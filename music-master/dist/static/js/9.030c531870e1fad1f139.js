webpackJsonp([9],{kvay:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i,a=e("bOdI"),l=e.n(a),n=e("Dd8w"),c=e.n(n),r=e("qwAB"),o=e("ZV4u"),u=e("y/jF"),h=e("NYxO"),d=e("m40h"),m=e("W/7t"),v=e("PvFA"),f=e("F4+m"),g=(i={computed:c()({},Object(h.c)(["playlist"])),mixins:[f.a],data:function(){return{listDetail:[],scrollY:0,headerTitle:"歌单"}},created:function(){this._getRecommendListDetail(this.musicList.id),this.probeType=3,this.listenScroll=!0},mounted:function(){this.imageHeight=this.$refs.bgImage.clientHeight,this.minTranslateY=44-this.imageHeight}},l()(i,"computed",c()({playCount:function(){if(this.musicList.playCount)return this.musicList.playCount<1e5?Math.floor(this.musicList.playCount):Math.floor(this.musicList.playCount/1e4)+"万"},bgStyle:function(){return"background-image: url("+this.musicList.picUrl+")"},title:function(){return this.musicList.name}},Object(h.c)(["musicList"]))),l()(i,"methods",c()({handlePlaylist:function(t){var s=t.length>0?"60px":"";this.$refs.list.$el.style.bottom=s,this.$refs.list.refresh()},selectItem:function(t,s){this.selectPlay({list:this.listDetail,index:s}),this.$router.push("/player")},scroll:function(t){this.scrollY=t.y},back:function(){this.$router.back()},_getRecommendListDetail:function(t){var s=this;t?Object(d.c)(t).then(function(t){t.status===m.a?s.listDetail=t.data.playlist.tracks.map(function(t){return Object(v.a)(t)}):console.error("getRecommendListDetail 获取失败！")}):this.$router.push("/recommend")},sequence:function(){var t=this.listDetail;this.sequencePlay({list:t})}},Object(h.b)(["selectPlay","sequencePlay"]))),l()(i,"watch",{scrollY:function(t){var s=Math.abs(t/this.imageHeight);t<this.minTranslateY+44-20?this.headerTitle=this.musicList.name:this.headerTitle="歌单",this.$refs.header.style.background=t<0?"rgba(212, 68, 57, "+s+")":"rgba(212, 68, 57, 0)"}}),l()(i,"components",{SongList:o.a,Scroll:r.a,Loading:u.a}),i),p={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("transition",{attrs:{name:"slide",mode:"out-in"}},[e("div",{staticClass:"music-list"},[e("div",{ref:"header",staticClass:"header"},[e("div",{staticClass:"back",on:{click:t.back}},[e("i",{staticClass:"fa fa-angle-left"})]),t._v(" "),e("div",{staticClass:"text"},[e("h1",{staticClass:"title"},[t._v(t._s(t.headerTitle))])])]),t._v(" "),e("scroll",{ref:"list",staticClass:"list",attrs:{"probe-type":t.probeType,"listen-scroll":t.listenScroll,data:t.listDetail},on:{scroll:t.scroll}},[e("div",{staticClass:"music-list-wrapper"},[e("div",{ref:"bgImage",staticClass:"bg-image",style:t.bgStyle},[e("div",{staticClass:"filter"}),t._v(" "),e("div",{staticClass:"text"},[e("h2",{staticClass:"list-title"},[t._v(t._s(t.title))]),t._v(" "),t.playCount?e("p",{staticClass:"play-count"},[e("i",{staticClass:"fa fa-headphones"}),t._v("\n              "+t._s(t.playCount)+"\n            ")]):t._e()])]),t._v(" "),e("div",{staticClass:"song-list-wrapper"},[e("div",{directives:[{name:"show",rawName:"v-show",value:t.listDetail.length,expression:"listDetail.length"}],staticClass:"sequence-play",on:{click:t.sequence}},[e("i",{staticClass:"iconfont icon-bofangicon"}),t._v(" "),e("span",{staticClass:"text"},[t._v("播放全部")]),t._v(" "),e("span",{staticClass:"count"},[t._v("(共"+t._s(t.listDetail.length)+"首)")])]),t._v(" "),e("song-list",{attrs:{songs:t.listDetail},on:{select:t.selectItem}})],1)])]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:!t.listDetail.length,expression:"!listDetail.length"}],staticClass:"loading-content"},[e("loading")],1)],1)])},staticRenderFns:[]};var b=e("VU/8")(g,p,!1,function(t){e("ygRD")},"data-v-1d2a42e5",null);s.default=b.exports},m40h:function(t,s,e){"use strict";s.a=function(){var t=l.b+"/banner";return a.a.get(t)},s.b=function(){var t=l.b+"/personalized";return a.a.get(t)},s.d=function(){var t=l.b+"/personalized/newsong";return a.a.get(t)},s.c=function(t){var s=l.b+"/playlist/detail?id="+t;return a.a.get(s)};var i=e("mtWM"),a=e.n(i),l=e("W/7t")},ygRD:function(t,s){}});
//# sourceMappingURL=9.030c531870e1fad1f139.js.map